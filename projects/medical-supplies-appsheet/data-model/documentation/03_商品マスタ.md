# 商品マスタ (products)

## テーブル概要
- **テーブル名**: products
- **説明**: 医材の基本情報と在庫設定を管理
- **主キー**: 商品ID

## カラム定義

| カラム名 | 物理名 | データ型 | 必須 | 列種別 | 説明 |
|---------|--------|----------|------|--------|------|
| 商品ID | product_id | Text | ✓ | 物理 | 一意識別子（PRD-XXX形式） |
| 商品コード | product_code | Text | ✓ | 物理 | メーカー品番 |
| 管理番号 | management_number | Number | ✓ | 物理 | 社内管理番号 |
| 商品名 | product_name | Text | ✓ | 物理 | 医材名称 |
| 定数在庫 | fixed_stock_flag | Yes/No | | 物理 | 定数在庫管理フラグ（TRUE:定数管理/FALSE:個別配布） |
| 定数在庫_箱 | fixed_stock_boxes | Number | | 物理 | 定数在庫数（箱単位） |
| 箱入数 | pieces_per_box | Number | ✓ | 物理 | 1箱あたりの個数 |
| 単位 | unit | Text | ✓ | 物理 | 個/本/袋/枚等 |
| 発注先ID | supplier_id | Ref | ✓ | 物理 | 発注先（suppliers参照） |
| 棚番号 | shelf_number | Text | | 物理 | 保管棚番号 |
| 段数 | shelf_level | Text | | 物理 | 保管段数 |
| 定数在庫_個数 | fixed_stock_pieces | Number | | 仮想 | 定数在庫個数（計算式: [定数在庫_箱] * [箱入数]） |
| 発注先名 | supplier_name | Text | | 仮想 | 発注先名（計算式: [発注先ID].[発注先名]） |
| 現在在庫 | current_stock | Text | | 仮想 | 現在在庫（計算式: [Related inventory].[在庫表示]） |
| 在庫不足 | stock_shortage | Yes/No | | 仮想 | 在庫不足フラグ（計算式: [Related inventory].[在庫不足フラグ]） |

## AppSheet設定
- **ラベル**: 商品名
- **キー**: 商品ID
- **リレーション**: 発注先ID → suppliers.supplier_id
- **計算式**:
  - 定数在庫_個数 = [定数在庫_箱] * [箱入数]